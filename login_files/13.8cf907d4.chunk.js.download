(this["webpackJsonponline-banking-app"]=this["webpackJsonponline-banking-app"]||[]).push([[13],{1072:function(e,n,t){},1165:function(e,n,t){"use strict";var i=t(175),a=t(2),o=t(3),s=t(982),l=t(983),r=function(){function e(){Object(a.a)(this,e),this.isPerformingLogin=null,this.staticResourcesContext=null,this.timeout=null,this.timeoutMessage=null,this.logout=null,this.logoutMessage=null,this.fiLoginLabel=null,this.usernameLabel=null,this.passwordLabel=null,this.notBlankLabel=null,this.context=null,this.fiLoginButtonLabel=null,this.uspLocale=null,this.isForgotPasswordEnabled=null,this.forgotPasswordLabel=null,this.fiArsRegistrationEnabled=null,this.fiEnrollNowLink=null,this.fiEnrollNowDescription=null,this.fiEnrollButtonLabel=null,this.motd=null,this.browser_compatibility=null,this.browser_compatibility_link_text=null,this.having_trouble_testing_link_test=null,this.unAuthenticatedAllowedUser=null,this.isOAuth2FlowWithLegacy=null,this.isOAuth2Flow=null,this.clientId=null,this.redirectUri=null,this.oauthState=null,this.cancelButtonText=null,this.tempPasswordExpirationEnabled=null,this.tempPasswordExpired=null,this.tempPasswordLocked=null,this.tempPasswordExpiredMsg=null,this.tempPasswordLockedMsg=null,this.i18nStrings=null,this.showHidePasswordLink=null,this.bindListeners({handleInitializePage:l.a.INITIALIZE_PAGE,handleLogin:l.a.LOGIN,handleLoginSucceeded:l.a.LOGIN_SUCCEEDED,handleLoginFailed:l.a.LOGIN_FAILED,handleTempPasswordExpired:l.a.TEMP_PASSWORD_EXPIRED,handleTempPasswordLocked:l.a.TEMP_PASSWORD_LOCKED})}return Object(o.a)(e,[{key:"handleInitializePage",value:function(e){this.fillStore(e),this.isPerformingLogin=!1}},{key:"handleLogin",value:function(){this.isPerformingLogin=!0}},{key:"handleLoginSucceeded",value:function(e){this.isPerformingLogin=!1,this.fillStore(e)}},{key:"handleLoginFailed",value:function(e){var n=Object(i.a)(e,2);n[0],n[1];this.isPerformingLogin=!1}},{key:"handleTempPasswordExpired",value:function(e){this.tempPasswordExpired=e}},{key:"handleTempPasswordLocked",value:function(e){this.tempPasswordLocked=e}},{key:"fillStore",value:function(e){for(var n in e)this.hasOwnProperty(n)&&(this[n]=e[n])}}]),e}();n.a=s.a.createStore(r,"LoginConfigStore")},1166:function(e,n,t){"use strict";var i=t(2),a=t(3),o=t(982),s=t(983),l=function(){function e(){Object(i.a)(this,e),this.username=null,this.password=null,this.usernameError=null,this.passwordError=null,this.setLinkAsShow=!0,this.bindListeners({handleUpdateUsername:s.a.UPDATE_USERNAME,handleUpdatePassword:s.a.UPDATE_PASSWORD,handleUsernameError:s.a.USERNAME_ERROR,handlePasswordError:s.a.PASSWORD_ERROR,onSetLinkAsShow:s.a.SET_LINK_AS_SHOW})}return Object(a.a)(e,[{key:"handleUpdateUsername",value:function(e){this.username=e}},{key:"onSetLinkAsShow",value:function(e){this.setLinkAsShow=e}},{key:"handleUpdatePassword",value:function(e){this.password=e}},{key:"handleUsernameError",value:function(e){this.usernameError=e}},{key:"handlePasswordError",value:function(e){this.passwordError=e}}]),e}();n.a=o.a.createStore(l,"LoginCredentialStore")},1167:function(e,n,t){"use strict";var i=t(175),a=t(2),o=t(3),s=t(982),l=t(983),r=function(){function e(){Object(a.a)(this,e),this.context=null,this.error=null,this.ajaxError=null,this.cookiesDisabled=null,this.cookiesDisabledMessage=null,this.cookiesDisabledInstruction=null,this.userLocked=null,this.userLockedMessage=null,this.subUserUpdatePin=null,this.subUserUpdatePinMessage=null,this.userHold=null,this.userHoldMessage=null,this.concurrentSessionNotAllowed=null,this.concurrentSessionErrorMsg=null,this.invalidLogin=null,this.invalidLoginMessage=null,this.firstTimeUser=null,this.firstTimeUserMessage=null,this.disclosureRejected=null,this.disclosureRejectedMessage=null,this.ibPassInvalid=null,this.ibPassInvalidMessage=null,this.invalidReferrerDomain=null,this.invalidReferrerDomainMessage=null,this.hostAccessDenied=null,this.hostSubAccessDenied=null,this.hostAccessDeniedMessage=null,this.hostSubAccessDeniedMessage=null,this.whiteListedIPsCantLogin=null,this.whiteListedIPsCantLoginErrorMsg=null,this.userAlreadyConverted=null,this.userAlreadyConvertedHeader=null,this.userAlreadyConvertedMessage=null,this.userAlreadyConvertedForgotMessage=null,this.errorCode=null,this.errorCodeLabel=null,this.serviceUnavailableMessage=null,this.eSignDeclined=null,this.disclosureDeclined=null,this.eSignDeclinedMessage=null,this.disclosureDeclinedMessage=null,this.isForgotPasswordEnabled=null,this.fractalBlock=null,this.fractalBlockMessage=null,this.featureUnavailable=null,this.featureUnavailableMessage=null,this.oauthGotoFullSite=null,this.oauthGotoFullSiteMessage=null,this.bindListeners({handleInitializePage:l.a.INITIALIZE_PAGE,handleShowCookieError:l.a.SHOW_COOKIE_ERROR,handleLogin:l.a.LOGIN,handleLoginSucceeded:l.a.LOGIN_SUCCEEDED,handleLoginFailed:l.a.LOGIN_FAILED})}return Object(o.a)(e,[{key:"handleInitializePage",value:function(e){this.fillStore(e),this.ajaxError=!1,this.cookiesDisabled=!1}},{key:"handleShowCookieError",value:function(){this.error=!0,this.cookiesDisabled=!0}},{key:"handleLogin",value:function(){this.error=!1,this.ajaxError=!1,this.cookiesDisabled=!1}},{key:"handleLoginSucceeded",value:function(e){this.fillStore(e)}},{key:"handleLoginFailed",value:function(e){var n=Object(i.a)(e,2);n[0],n[1];this.error=!0,this.ajaxError=!0}},{key:"fillStore",value:function(e){for(var n in e)this.hasOwnProperty(n)&&(this[n]=e[n])}}]),e}();n.a=s.a.createStore(r,"LoginErrorStore")},1739:function(e,n,t){"use strict";t.r(n);var i,a,o,s=t(21),l=t(38),r=t.n(l),u=t(53),c=t(2),h=t(3),d=t(5),g=t(4),f=t(0),p=t.n(f),b=t(54),v=t(1),m=t.n(v),L=t(55),w=t.n(L),S=t(37),k=t(982),E=t(1165),y=t(1166),P=t(1167),O=(t(1072),t(1017)),C=t(933),_=t(171),x=t(942),I=p.a.lazy((function(){return Promise.all([t.e(9),t.e(61)]).then(t.bind(null,1733))})),A=p.a.lazy((function(){return t.e(58).then(t.bind(null,1731))})),D=Object(b.b)("authenticationStore")(i=Object(b.b)("navigationStore")(i=Object(b.c)((o=a=function(e){Object(d.a)(t,e);var n=Object(g.a)(t);function t(){var e;Object(c.a)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).state={},e.handleLoginSubmit=function(){var n=Object(u.a)(r.a.mark((function n(t){var i,a,o,s,l,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setState({submittingLogin:!0}),i=new FormData(t.target.form),a={},i.forEach((function(e,n){a[n]=e})),o=e.props,s=o.authenticationStore,l=o.history,u=o.handleLoginSubmit,n.next=7,u(s,l,a,(function(n,t){e.setLoginConfig(t)}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.handleChangeLocale=function(e){O.a.changeLocale(e,"")},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.state,n=e.titleProps,t=e.submittingLogin,i=e.initialState,a=e.footerConfig,o=e.ibguid,s=(null!==i&&void 0!==i?i:{}).loginConfigEnabled;if(n){if(s){var l=this.props.navigationStore;return p.a.createElement(I,{footerConfig:a,config:i,onLoginSubmit:this.handleLoginSubmit,navigationData:l.navigationData,onLocaleSelect:this.handleChangeLocale,isSubmittingLogin:t,ibguid:o})}return t?p.a.createElement(S.a,null):p.a.createElement(A,{onLoginSubmit:this.handleLoginSubmit})}return p.a.createElement(S.a,null)}},{key:"componentDidMount",value:function(){var e=Object(u.a)(r.a.mark((function e(){var n,t,i,a,o,s,l,u,c,h,d,g,f,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,t=n.location,i=n.match,a=(i||{}).params,o=(t||{}).state,l=(s=null!==o&&void 0!==o?o:{}).loginPageProps,u=s.loginPageFooterConfig,c=(null!==o&&void 0!==o?o:{}).ibguid,l){e.next=16;break}return h=w.a.parse(t.search),e.next=9,_.a.getLoginPageProperties(h,a.typeOfPage);case 9:l=e.sent,g=(d=l).targetData,f=d.footerConfig,g.initialState.fiEnrollNowLink&&(p=(p=g.initialState.fiEnrollNowLink).substring(p.indexOf("/usp-core")),g.initialState.fiEnrollNowLink=Object(C.a)(p)),u=f,l=g,e.next=17;break;case 16:window.history.replaceState({},document.title);case 17:this.setLoginConfig(l,u,c);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=window.di;e&&(delete e.login,delete e.loginLocaleUrl),k.a&&(k.a.recycle(P.a),k.a.recycle(E.a),k.a.recycle(y.a))}},{key:"getLandingPageLocation",value:function(){var e=this.props.authenticationStore.landingPageLocation,n="";return e&&(n="".concat(e.pathname).concat(e.search?e.search:"")),n}},{key:"setLoginConfig",value:function(e,n,t){var i=this.props.history,a=e.initialState,o=window.di;if(o.login=o.login||{},o.loginLocaleUrl=e.loginLocaleUrl,o.login.initialState=Object(s.a)({},a),i&&i.location&&i.location.state){var l=i.location.state.errorCode;l&&this.handleLoginError(l)}var r={fiLoginPageTitle:a.fiLoginPageTitle,browserTabTitle:e.browserTabTitle};this.setState({footerConfig:n,initialState:a,titleProps:r,submittingLogin:!1,ibguid:t})}}]),t}(f.Component),a.defaultProps={authenticationStore:null,history:null,match:null,handleLoginSubmit:null,navigationStore:null},a.propTypes={authenticationStore:m.a.instanceOf(Object),navigationStore:m.a.instanceOf(Object),history:m.a.instanceOf(Object),location:m.a.instanceOf(Object),match:m.a.instanceOf(Object),handleLoginSubmit:m.a.func},i=o))||i)||i)||i;n.default=Object(x.a)(D)},942:function(e,n,t){"use strict";t.d(n,"b",(function(){return h})),t.d(n,"a",(function(){return d}));var i=t(38),a=t.n(i),o=t(53),s=t(0),l=t.n(s),r=t(932),u=t.n(r),c=function(e){var n=null!==e&&void 0!==e?e:{},t=n.ibSignOnCgiUrl,i=n.ibTargetCgiUrl,a=n.userId,o=n.password,s=n.overrideLanguage,l=function(){alert("This login session is not allowed as you might already have an existing Internet Banking session on this computer. If you wish to login again, please close all open Internet Banking sessions and / or browser windows and begin again. If it doesn't work, wait for 10 minutes and try again."),window.location.href="".concat("/dbank/live/","app/home")};t?u()(t,(function(){if("function"===typeof submitFPW){var e=document.createElement("form");e.style.display="none",e.action=i,e.method="POST",e.innerHTML=function(e,n,t){return'\n        <input type="hidden" name="runmode" value="SIGN_IN"/>\n        <input type="hidden" name="DISESSIONID" value=""/>\n\n        <input type="hidden" name="userNumber" maxLength="32" tabIndex="1"\n               value="'.concat(e,'"/>\n        <input type="hidden" name="password" maxLength="12" tabIndex="2"\n               value="').concat(n,'"/>\n        ').concat(t?'<input type="hidden" name="overrideLanguage" value="'.concat(t,'"/>'):"","       \n    ")}(a,o,s),document.body.appendChild(e),window.submitFPW(e)}else l()}),l):l()},h=function(){var e=Object(o.a)(a.a.mark((function e(n,t,i,o,s){var l,r,u,h,d,g,f,p,b,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=7;break}return e.next=4,n.externalLogin(i);case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,n.login(i);case 9:l=e.sent;case 10:if(u=(r=l||{}).targetView,h=r.targetData,d=r.footerConfig,"restore_mfa_redirect"!==u){e.next=16;break}return g=(h||{}).unAuthenticatedAllowedUser,e.next=15,n.loginRedirect(g);case 15:l=e.sent;case 16:u=(f=l||{}).targetView,h=f.targetData,d=f.footerConfig,"consumer_login"===u?o(u,h,d):"approval_status"===u?t.push("/app/approval-status",{approvalStatusConfig:h}):"redirect"===u?t.push(h):"regapp_ars_redirector"===u?t.push("/app/register"):"ibredirector"===u&&c(h),e.next=36;break;case 23:if(e.prev=23,e.t0=e.catch(0),console.log("Error logging in",e.t0),!e.t0){e.next=35;break}if(p=e.t0.response,b=e.t0.responseText,!p||!b||429!==p.status){e.next=35;break}return"setTimeout(function() { document.getElementsByTagName('head')[0].appendChild(cpo); }, 2000);",v=(v=b).replace("document.getElementsByTagName('head')[0].appendChild(cpo);","setTimeout(function() { document.getElementsByTagName('head')[0].appendChild(cpo); }, 2000);"),document.write(v),document.close(),e.abrupt("return");case 35:t.push("/app/unavailable");case 36:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(n,t,i,a,o){return e.apply(this,arguments)}}();function d(e){return function(n){return l.a.createElement(e,Object.assign({},n,{handleLoginSubmit:h}))}}},982:function(e,n,t){"use strict";var i=t(432),a=new(t.n(i).a);n.a=a},983:function(e,n,t){"use strict";var i=t(2),a=t(3),o=t(982),s=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"initializePage",value:function(e){this.dispatch(e)}},{key:"setLinkAsShow",value:function(e){this.dispatch(e)}},{key:"showCookieError",value:function(){this.dispatch()}},{key:"login",value:function(e,n){this.dispatch()}},{key:"cancel",value:function(){this.dispatch(),window.location.replace(di.env.context+"app/logout?reason=loginPageCancel")}},{key:"loginSucceeded",value:function(e){this.dispatch(e)}},{key:"loginFailed",value:function(e,n){this.dispatch([e,n])}},{key:"updateUsername",value:function(e){this.dispatch(e)}},{key:"updatePassword",value:function(e){this.dispatch(e)}},{key:"usernameError",value:function(e){this.dispatch(e)}},{key:"passwordError",value:function(e){this.dispatch(e)}},{key:"tempPasswordExpired",value:function(e){this.dispatch(e)}},{key:"tempPasswordLocked",value:function(e){this.dispatch(e)}}]),e}();n.a=o.a.createActions(s)}}]);
//# sourceMappingURL=13.8cf907d4.chunk.js.map